(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{760:function(a,e,t){a.exports=t.p+"assets/img/QQ20180807105358.7b8e0ca7.png"},761:function(a,e){a.exports="data:image/png;base64,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"},762:function(a,e,t){a.exports=t.p+"assets/img/QQ20180807134705.28fb429b.png"},763:function(a,e,t){a.exports=t.p+"assets/img/QQ20180807153852.07e8bfba.png"},798:function(a,e,t){"use strict";t.r(e);var s=t(4),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"sql笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql笔记"}},[a._v("#")]),a._v(" SQL笔记")]),a._v(" "),s("h2",{attrs:{id:"基本语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本语句"}},[a._v("#")]),a._v(" 基本语句")]),a._v(" "),s("h3",{attrs:{id:"数据表操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据表操作"}},[a._v("#")]),a._v(" 数据表操作")]),a._v(" "),s("h5",{attrs:{id:"创建表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建表"}},[a._v("#")]),a._v(" 创建表")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("CREATE TABLE 表名\n(\n字段名 1 字段类型 约束，\n字段名 2 字段类型 约束，\n字段名 3 字段类型 约束，\n………………\n主键定义,\n外键定义, \n………………\n)\n")])])]),s("blockquote",[s("p",[a._v("非空约束"),s("code",[a._v("NOT NULL")]),a._v("，默认值"),s("code",[a._v("DEFAULT 默认值表达式")]),a._v(",主键"),s("code",[a._v("PRIMARY KEY(字段名,...)")]),a._v("(可定义联合主键),外键"),s("code",[a._v("FOREIGN KEY (外键字段名称) REFERENCES 目标表名(被关联的字段名称)")])])]),a._v(" "),s("h5",{attrs:{id:"修改数据表名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改数据表名"}},[a._v("#")]),a._v(" 修改数据表名")]),a._v(" "),s("p",[a._v("  添加字段：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ALTER TABLE 待修改的表名 ADD 字段名 字段类型\n")])])]),s("p",[a._v("  删除字段：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ALTER TABLE 待修改的表名 DROP 待删除的字段名\n")])])]),s("p",[a._v("  修改字段类型：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alter table 表名 modify column 字段名 type\n")])])]),s("p",[a._v("  修改字段名：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alter table 表名 rename column A to B\n")])])]),s("p",[a._v("  修改和添加默认值：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alter table 表名 add default (0) for 字段名 with values\n")])])]),s("h5",{attrs:{id:"删除数据表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据表"}},[a._v("#")]),a._v(" 删除数据表")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DROP TABLE 要删除的表名\n")])])]),s("h3",{attrs:{id:"数据操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据操作"}},[a._v("#")]),a._v(" 数据操作")]),a._v(" "),s("h5",{attrs:{id:"增加数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增加数据"}},[a._v("#")]),a._v(" 增加数据")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("INSERT INTO T_Person(FName,FAge,FRemark) VALUES('Tom',18,'USA')3\n")])])]),s("blockquote",[s("p",[a._v("按列顺序插入可以简化插入语句，比如："),s("code",[a._v("INSERT INTO T_Person VALUES('luren1',23,'China')")]),a._v("。")])]),a._v(" "),s("h5",{attrs:{id:"删除数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据"}},[a._v("#")]),a._v(" 删除数据")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DELETE FROM T_Debt\n")])])]),s("blockquote",[s("p",[a._v("删除T_Debt表的所有数据，删除特定行的话，后面就跟"),s("code",[a._v("where")]),a._v("字句，"),s("strong",[a._v("mysql中用"),s("code",[a._v("truncate T_Debt")]),a._v("删除所有数据")]),a._v("。")])]),a._v(" "),s("h5",{attrs:{id:"修改数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改数据"}},[a._v("#")]),a._v(" 修改数据")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("UPDATE T_Person SET FRemark = 'SuperMan'\n")])])]),s("blockquote",[s("p",[a._v("这条语句是将T_Person表中记录的所有FRemark字段进行修改，想要修改特定行，后面可以跟选择语句"),s("code",[a._v("where")]),a._v("。")])]),a._v(" "),s("h3",{attrs:{id:"数据检索"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据检索"}},[a._v("#")]),a._v(" 数据检索")]),a._v(" "),s("h5",{attrs:{id:"排序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排序"}},[a._v("#")]),a._v(" 排序")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT * FROM T_Employee ORDER BY FAge\n")])])]),s("blockquote",[s("p",[a._v("默认是"),s("code",[a._v("ASC")]),a._v("升序，"),s("code",[a._v("DESC")]),a._v("为降序。"),s("code",[a._v("order by")]),a._v("后面可以跟多个条件，当第一个条件都相同时，按后面的条件排序。")])]),a._v(" "),s("h5",{attrs:{id:"通配符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通配符"}},[a._v("#")]),a._v(" 通配符")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("通配符")]),a._v(" "),s("th",[a._v("描述")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("_")]),a._v(" "),s("td",[a._v("匹配单字符")])]),a._v(" "),s("tr",[s("td",[a._v("%")]),a._v(" "),s("td",[a._v("匹配0个或多个字符")])]),a._v(" "),s("tr",[s("td",[a._v("[]")]),a._v(" "),s("td",[a._v("集合匹配符，比如"),s("code",[a._v("[ab]%")]),a._v("表示匹配a或b字符任意次。")])]),a._v(" "),s("tr",[s("td",[a._v("^")]),a._v(" "),s("td",[a._v("取反，比如"),s("code",[a._v("[^ab]")]),a._v("%除了a和b可以匹配任意次其他字符。")])])])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT * FROM T_Employee\nWHERE FName LIKE 'S%' OR FName LIKE 'J%'\n")])])]),s("h3",{attrs:{id:"选择语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择语句"}},[a._v("#")]),a._v(" 选择语句")]),a._v(" "),s("h5",{attrs:{id:"not语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#not语句"}},[a._v("#")]),a._v(" NOT语句")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT * FROM T_Employee\nWHERE NOT(FAge=22) AND NOT(FSALARY<2000) \n")])])]),s("h5",{attrs:{id:"in语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#in语句"}},[a._v("#")]),a._v(" IN语句")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FAge,FNumber,FName FROM T_Employee\nWHERE FAge IN (23,25,28) \n")])])]),s("h5",{attrs:{id:"between语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#between语句"}},[a._v("#")]),a._v(" BETWEEN语句")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT * FROM T_Employee\nWHERE FAGE BETWEEN 23 AND 27 \n")])])]),s("h3",{attrs:{id:"数据分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据分组"}},[a._v("#")]),a._v(" 数据分组")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FAge,COUNT(*) AS CountOfThisAge FROM T_Employee\nGROUP BY FAge \n")])])]),s("blockquote",[s("p",[a._v("运行结果如下：\n"),s("img",{attrs:{src:t(760),alt:"An image"}})])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FAge,COUNT(*) AS CountOfThisAge FROM T_Employee\nGROUP BY FAge\nHAVING COUNT(*)>1 \n")])])]),s("blockquote",[s("p",[a._v("聚合函数不能在"),s("code",[a._v("where")]),a._v("语句中使用，所有使用"),s("code",[a._v("having")]),a._v("语句作条件选择。")])]),a._v(" "),s("p",[a._v("  **也可以对多个条件进行分组，比如：统计每个部门的男女人数。**请看下面示例：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT departmentid as 部门代码, sex, COUNT(*) 总数 FROM EMPLOYEE GROUP BY departmentid, sex\n")])])]),s("blockquote",[s("p",[a._v("运行结果：\n"),s("img",{attrs:{src:t(761),alt:"An image"}})])]),a._v(" "),s("h2",{attrs:{id:"联合结果集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联合结果集"}},[a._v("#")]),a._v(" 联合结果集")]),a._v(" "),s("h3",{attrs:{id:"union"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#union"}},[a._v("#")]),a._v(" UNION")]),a._v(" "),s("p",[a._v("  有的时候我们需要组合两个完全不同的查询结果集，而这两个查询结果之间没有必然的\n联系，只是我们需要将他们显示在一个结果集中而已。在SQL中可以使用UNION运算符来\n将两个或者多个查询结果集联合为一个结果集中。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FNumber,FName,FAge FROM T_Employee\nUNION\nSELECT FIdCardNumber,FName,FAge FROM T_TempEmployee \n")])])]),s("blockquote",[s("p",[a._v("联合结果集的原则：一是每个结果集必须有相同的列数；二是每个结果集的列必须类型相\n容。")])]),a._v(" "),s("p",[s("strong",[a._v("如果列数不同，则添加一列默认值")]),a._v(":")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FNumber,FName,FAge,FDepartment FROM T_Employee\nUNION\nSELECT FIdCardNumber,FName,FAge,'临时工，不属于任何一个部门' FROM\nT_TempEmployee \n")])])]),s("h3",{attrs:{id:"union-all"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#union-all"}},[a._v("#")]),a._v(" UNION ALL")]),a._v(" "),s("p",[s("strong",[s("code",[a._v("UNION")]),a._v("默认会合并相同的数据记录，使用"),s("code",[a._v("UNION ALL")]),a._v("则不会。")])]),a._v(" "),s("h2",{attrs:{id:"索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[a._v("#")]),a._v(" 索引")]),a._v(" "),s("p",[a._v("  如果数据表中数据非常多，我们想从里面找数据就会浪费很多的资源，索引就像一本书的目录一样，可以让我们快速找到需要的数据，如下图所示：\n"),s("img",{attrs:{src:t(762),alt:"An image"}})]),a._v(" "),s("h3",{attrs:{id:"创建索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[a._v("#")]),a._v(" 创建索引")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("CREATE INDEX 索引名 ON 表名(字段 1, 字段 2,……字段 n)\n")])])]),s("h3",{attrs:{id:"删除索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[a._v("#")]),a._v(" 删除索引")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("DROP INDEX 索引名 ON 表名\n")])])]),s("h2",{attrs:{id:"表连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表连接"}},[a._v("#")]),a._v(" 表连接")]),a._v(" "),s("p",[a._v("当需要从两张或几张表中检索出想要的数据时，如果用嵌套查询会比较麻烦，此时就会用到表连接。"),s("strong",[a._v("需要注意表连接是把后面的表向右拼接，联合结果集是把后面的表向下拼接。")])]),a._v(" "),s("h3",{attrs:{id:"内连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内连接"}},[a._v("#")]),a._v(" 内连接")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT FNumber,FPrice\nFROM T_Order INNER JOIN T_Customer\nON FCustomerId=T_Customer.FId\nWHERE T_Customer.FName='TOM' \n")])])]),s("h3",{attrs:{id:"交叉连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#交叉连接"}},[a._v("#")]),a._v(" 交叉连接")]),a._v(" "),s("p",[a._v("交叉连接不需要使用"),s("code",[a._v("ON")]),a._v("字句，将涉及到的所有表中的所有记录包含在结果集中。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT T_Customer.FId, T_Customer.FName, T_Customer.FAge,\nT_Order.FId, T_Order.FNumber, T_Order.FPrice\nFROM T_Customer, T_Order \n")])])]),s("h3",{attrs:{id:"自连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[a._v("#")]),a._v(" 自连接")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT o1.FNumber,o1.FPrice,o1.FTypeId,\no2.FNumber,o2.FPrice,o2.FTypeId\nFROM T_Order o1\nINNER JOIN T_Order o2\nON o1.FTypeId=o2.FTypeId \n")])])]),s("blockquote",[s("p",[a._v("需要使用别名。")])]),a._v(" "),s("h3",{attrs:{id:"外连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外连接"}},[a._v("#")]),a._v(" 外连接")]),a._v(" "),s("p",[a._v("  外连接分为:左外连接、右外连接、全外连接。左外连接不管左边符不符合条件都会显示出来，相对的右表则显示空值，右连接和左连接相对，全外连接，不管符不符合条件，都会显示两表的所有记录。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT o.FNumber,o.FPrice,o.FCustomerId,\nc.FName,c.FAge\nFROM T_Order o\nLEFT OUTER JOIN T_Customer c\nON o.FCustomerId=c.FId\nWHERE o.FPrice>=150 \n")])])]),s("blockquote",[s("p",[a._v("右外连接"),s("code",[a._v("RIGHT OUTER JOIN")]),a._v("，全外连接"),s("code",[a._v("FULL OUTER JOIN")]),a._v("。")])]),a._v(" "),s("h2",{attrs:{id:"函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[a._v("#")]),a._v(" 函数")]),a._v(" "),s("h3",{attrs:{id:"distinct"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#distinct"}},[a._v("#")]),a._v(" distinct")]),a._v(" "),s("p",[a._v("根据某一字段来去重记录")]),a._v(" "),s("h3",{attrs:{id:"case函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#case函数"}},[a._v("#")]),a._v(" CASE函数")]),a._v(" "),s("p",[s("strong",[a._v("第一种用法：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT\nFName,\n (CASE FName\nWHEN 'Tom' THEN 'GoodBoy'\nWHEN 'Lily' THEN 'GoodGirl'\nWHEN 'Sam' THEN 'BadBoy'\nWHEN 'Kerry' THEN 'BadGirl'\nELSE 'Normal'\nEND) as isgood\nFROM T_Person \n")])])]),s("blockquote",[s("p",[a._v("用于"),s("code",[a._v("FName")]),a._v("与条件相等的情况。")])]),a._v(" "),s("p",[s("strong",[a._v("第二种用法：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("SELECT\nFName,\nFWeight,\n (CASE\nWHEN FWeight<40 THEN 'thin'\nWHEN FWeight>50 THEN 'fat'\nELSE 'ok'\nEND) as isnormal\nFROM T_Person\n")])])]),s("blockquote",[s("p",[a._v("用于"),s("code",[a._v("FWeight")]),a._v("与条件不等的情况。运行结果如下：\n"),s("img",{attrs:{src:t(763),alt:"An image"}})])]),a._v(" "),s("h3",{attrs:{id:"oracle相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#oracle相关"}},[a._v("#")]),a._v(" Oracle相关")]),a._v(" "),s("h4",{attrs:{id:"系统函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统函数"}},[a._v("#")]),a._v(" 系统函数")]),a._v(" "),s("ul",[s("li",[a._v("sys_guid()：这个函数是"),s("code",[a._v("oracle")]),a._v("数据库的，用于获取一个随机的id。")]),a._v(" "),s("li",[a._v("to_date()：将字符串转换为日期格式，"),s("code",[a._v("to_date('2015-01-01','yyyy-mm-dd')")])]),a._v(" "),s("li",[s("code",[a._v("select * from table_name where rownum<X")]),a._v("查询前x条数据")]),a._v(" "),s("li",[s("code",[a._v("select * from (select a.*,a.rownum rn from （select *　from table_name） a where a.rownum<M) where rn>n")]),a._v("查询从n到m条的数据")])]),a._v(" "),s("h4",{attrs:{id:"回滚操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回滚操作"}},[a._v("#")]),a._v(" 回滚操作")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alter table tableName enable row movement;\n\nSELECT LAST_DDL_TIME from user_objects where object_name=upper('tableName');\n\nflashback table tableName to timestamp to_timestamp('2019-01-23 00:00:00','yyyy-mm-dd hh24:mi:ss');\n")])])]),s("blockquote",[s("p",[a._v("如果要回滚的表是面向用户操作的，数据会实时变化，建议不要使用这种回滚")])]),a._v(" "),s("h2",{attrs:{id:"触发器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发器"}},[a._v("#")]),a._v(" 触发器")]),a._v(" "),s("p",[a._v("  触发器的触发事件分为"),s("code",[a._v("insert")]),a._v(","),s("code",[a._v("update")]),a._v(","),s("code",[a._v("delete")]),a._v("，触发事件分为"),s("code",[a._v("before")]),a._v("和"),s("code",[a._v("after")]),a._v(",=="),s("strong",[a._v("触发器不要对增删改操作频繁的表使用，因为触发器是针对每一行的，会很耗内存。")]),a._v("==\n  mysql创建触发器：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("delimiter $$\ncreate trigger encrypt_bef_insert before insert\non user for each row\nbegin\nset new.pwd=md5(new.pwd);\nend$$\n")])])]),s("blockquote",[s("p",[s("code",[a._v("new")]),a._v("表示要插入的一条数据，"),s("code",[a._v("old")]),a._v("表示要删除或已更改的一条数据。")])]),a._v(" "),s("h2",{attrs:{id:"插入更新语句-on-duplicate-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插入更新语句-on-duplicate-key"}},[a._v("#")]),a._v(" 插入更新语句（on duplicate key）")]),a._v(" "),s("blockquote",[s("p",[a._v("以前的做法是先根据主键去查找是否存在记录，找到就update，找不到就insert。需要写两条语句。\non duplicate key update 的写法，很简单的解决了上面的问题，而且只需要写一条语句。")])]),a._v(" "),s("p",[a._v("insert into employee (id, sex, name ,address) values (103, '女', 'Lisa', 'London')\n"),s("strong",[a._v("on duplicate key")]),a._v(" update sex = '男', name = 'Tom', address = 'pasa'")])])}),[],!1,null,null,null);e.default=r.exports}}]);