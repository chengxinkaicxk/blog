(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{752:function(t,a,s){t.exports=s.p+"assets/img/docker_tag.68b4590b.png"},785:function(t,a,s){"use strict";s.r(a);var r=s(4),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"title"},[t._v("介绍")]),r("p",[t._v("可以学习到Docker镜像的概念以及核心api")])]),t._v(" "),r("h2",{attrs:{id:"获取镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#获取镜像"}},[t._v("#")]),t._v(" 获取镜像")]),t._v(" "),r("blockquote",[r("p",[t._v("docker pull [image]")])]),t._v(" "),r("p",[t._v("例：docker pull ubuntu")]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("该命令实际上下载的是ubuntu"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("latest镜像，即最新的镜像\n除此之外，还可以通过指定标签下载特定版本的一个镜像"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("如"),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docker pull ubuntu:14.04'")]),t._v("\n该方式是从默认的注册服务器中的ubuntu仓库中下载的镜像\n")])])]),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("配置阿里镜像\nvim "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("docker"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("daemon"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n输入\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"registry-mirrors"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://atofs07z.mirror.aliyuncs.com"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n重启docker服务\nsystemctl daemon"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("reload  \nsystemctl restart docker\n")])])]),r("h2",{attrs:{id:"查看镜像信息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像信息"}},[t._v("#")]),t._v(" 查看镜像信息")]),t._v(" "),r("blockquote",[r("p",[t._v("docker images")])]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REPOSITORY")]),t._v("：镜像来源于哪个仓库\n"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TAG")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("镜像的标签信息（版本），用于标记来自同一个仓库的不同镜像\n"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IMAGE")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("镜像的"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("号（唯一）\n"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CREATED")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("创建时间\n"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VIRTUAL")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SIZE")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("大小\n")])])]),r("h2",{attrs:{id:"添加标签-取别名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#添加标签-取别名"}},[t._v("#")]),t._v(" 添加标签（取别名）")]),t._v(" "),r("blockquote",[r("p",[t._v("docker tag [localImage] [newImage]")])]),t._v(" "),r("p",[t._v("例：docker tag docker.io/mysql:latest mysql:local")]),t._v(" "),r("p",[r("img",{attrs:{src:s(752),alt:""}})]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("docker tag命令为本地镜像添加新的标签，这两个镜像的"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("是完全一致的。\n它们实际上指向同一个镜像，只是别名不同而且\n")])])]),r("h3",{attrs:{id:"搜寻镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#搜寻镜像"}},[t._v("#")]),t._v(" 搜寻镜像")]),t._v(" "),r("blockquote",[r("p",[t._v("docker search [image]")])]),t._v(" "),r("p",[t._v("可以搜索远端仓库中共享的镜像，可用参数：")]),t._v(" "),r("ul",[r("li",[t._v("--automated=false 仅显示自动创建的镜像")]),t._v(" "),r("li",[t._v("--no-trunc=false 输出信息不截断显示")]),t._v(" "),r("li",[t._v("[-s或--stars]=0 指定仅显示评价为指定星级以上的镜像")])]),t._v(" "),r("h3",{attrs:{id:"删除镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[t._v("#")]),t._v(" 删除镜像")]),t._v(" "),r("blockquote",[r("p",[t._v("docker rmi [image]")])]),t._v(" "),r("p",[t._v("其中image可以为标签或ID")]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("、当image有多个标签时"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("如 docker rmi docker"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql，只会删除该镜像多个标签中的指定标签而已。\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("、当为镜像"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("时，会先尝试删除所有指向该镜像的标签，然后删除该镜像文件本身\n")])])]),r("h3",{attrs:{id:"创建镜像"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像"}},[t._v("#")]),t._v(" 创建镜像")])])}),[],!1,null,null,null);a.default=e.exports}}]);