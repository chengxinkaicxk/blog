(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{811:function(e,t,a){"use strict";a.r(t);var n=a(4),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[e._v("#")]),e._v(" Vue")]),e._v(" "),a("h2",{attrs:{id:"组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[e._v("#")]),e._v(" 组件")]),e._v(" "),a("h3",{attrs:{id:"组件样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件样式"}},[e._v("#")]),e._v(" 组件样式")]),e._v(" "),a("p",[e._v("scoped会把样式限制在组件内，不能影响其他组件或子组件，要想影响子组件可以使用深度选择器"),a("code",[e._v(">>>")]),e._v("，例如："),a("code",[e._v(".m-con >>> .u-center")])]),e._v(" "),a("h2",{attrs:{id:"解决前后端分离开发阶段测试跨域问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决前后端分离开发阶段测试跨域问题"}},[e._v("#")]),e._v(" 解决前后端分离开发阶段测试跨域问题")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("proxyTable: {\n    // 用于开发，解决前后端分离开发的跨域问题\n    '/api': {\n        target: 'http://127.0.0.1:8000/',\n        changeOrigin: true\n    },\n}\n")])])]),a("blockquote",[a("p",[e._v("这几条语句加在config目录下的index.js中")])]),e._v(" "),a("p",[e._v("跨域解决后还有个问题就是后端重定向，需要将重定向的地址也代理到相应的地址上，配置如下:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("onProxyRes: function(proxyRes, req, res) { // 监听代理的返回结果\n    const location = proxyRes.headers['location']\n    const locationRE = /http(?:s)?:\\/\\/[0-9.:]+?(\\/.*?[a-zA-Z]+)$/\n    if(location) {  // 解决前后端分离，后端重定向问题\n        const matched = location.match(locationRE)\n        const matchGroup = matched && matched[1]\n        proxyRes.headers['location'] =  matchGroup ? `http://xx.xx.xx.xx:8081${matchGroup}` : location\n        }\n    }\n")])])]),a("blockquote",[a("p",[e._v("这个配置放到webpack的"),a("code",[e._v("devServer.proxy")]),e._v("对象中")])]),e._v(" "),a("h2",{attrs:{id:"动画组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动画组件"}},[e._v("#")]),e._v(" 动画组件")]),e._v(" "),a("h3",{attrs:{id:"几个注意的点-容易被坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几个注意的点-容易被坑"}},[e._v("#")]),e._v(" 几个注意的点，容易被坑")]),e._v(" "),a("ul",[a("li",[e._v("各个过渡阶段的类名会添加到跟节点上，即"),a("code",[e._v("transition")]),e._v("组件中的根节点")]),e._v(" "),a("li",[e._v("类名中如果嵌套使用选择器在过渡类名下需要加入过渡时间，动画也是如此，否则过渡或动画会一闪而过")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(".match-slider-enter-active{\n      transition: all 5s;\n      .g-top{\n        .m-top {\n          animation: leftSlider 5s;\n        }\n        .m-bottom{\n          animation: rightSlider 5s;\n        }\n      }\n    }\n")])])]),a("h2",{attrs:{id:"采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#采坑"}},[e._v("#")]),e._v(" 采坑")]),e._v(" "),a("ul",[a("li",[e._v("vue组件中动态改变img标签的图片地址")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("import successImg from './img/success.png'\nimport warningImg from './img/warning.png'\nimport infoImg from './img/info.png'\nimport errorImg from './img/error.png'\n")])])]),a("blockquote",[a("p",[e._v("先将左右要用到的图片静态静态导入，然后在代码中使用就行了")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("配置网站facvicon.ico，图片要放在项目的根目录下，然后在build目录下的"),a("code",[e._v("webpack.dev.conf.js")]),e._v("和"),a("code",[e._v("webpack.prod.conf.js")]),e._v("的new HtmlWebpackPlugin中配置")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("new HtmlWebpackPlugin({\n  filename: 'index.html',\n  template: 'index.html',\n  inject: true,\n  favicon: path.resolve('favicon.png')\n})\n")])])])]),e._v(" "),a("li",[a("p",[e._v("解决IE上placeholder的兼容性问题，使用到vue的mixins")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// 定义mixin\nimport {isIE, supportPlaceholder} from 'common/js/env.js'\n\nexport const fixPlaceholder = {\n  methods: {\n    _fixPlaceholder() {\n      if(isIE && !supportPlaceholder) {\n        const inputs = document.querySelectorAll('input')\n        for(let i = 0; i < inputs.length; i++) {\n          const input = inputs[i]\n          const placeholder = input.getAttribute('placeholder')\n          if (input.type === 'password') {\n            input.setAttribute('data-passwd', true)\n            input.type = 'text'\n            input.value = placeholder\n          } else {\n            input.value = placeholder\n          }\n\n          input.onfocus = function (e) {\n            if(e.target.value === placeholder) {\n              e.target.value = ''\n            }\n          }\n\n          input.onblur = function (e) {\n            if(e.target.value.trim() === '') {\n              e.target.value = placeholder\n            }\n          }\n        }\n      }\n    }\n  }\n}\n")])])]),a("blockquote",[a("p",[e._v("在需要用到的组件中"),a("code",[e._v("mounted")]),e._v("钩子函数中使用混入的"),a("code",[e._v("_fixPlaceholder方法")])])]),e._v(" "),a("h2",{attrs:{id:"axios采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios采坑"}},[e._v("#")]),e._v(" Axios采坑")]),e._v(" "),a("ul",[a("li",[e._v("post请求默认把请求对象转成json，不管是否设置了"),a("code",[e._v("Content-Type': 'application/x-www-form-urlencoded")]),e._v("，如果要传入表单类型的数据就需要使用"),a("code",[e._v("qs")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("import qs from 'qs'\n\nexport function login(userName, passWord, validateCode) {\n  return netWork.post(apis.common.login, qs.stringify({\n    userName: userName,\n    passWord: hex_md5(passWord),\n    validateCode: validateCode.toUpperCase()\n  })).then((res) => {\n    return Promise.resolve(res.data)\n  })\n}\n")])])]),a("h2",{attrs:{id:"element-ui采坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#element-ui采坑"}},[e._v("#")]),e._v(" Element-ui采坑")]),e._v(" "),a("ul",[a("li",[e._v("table组件表头和内容错误，使用如下样式代码解决")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(".el-table {\n  >>> th.gutter {\n    display: table-cell !important;\n  }\n}\n")])])]),a("ul",[a("li",[e._v("table组件列宽度设置百分比使用"),a("code",[e._v("min-width")]),e._v("属性")]),e._v(" "),a("li",[e._v("设置表头颜色，在el-table上设置"),a("code",[e._v(":header-cell-style=\"{background: '#f2f2f2', color: '#666'}\"")])])]),e._v(" "),a("h2",{attrs:{id:"vuecli3配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuecli3配置"}},[e._v("#")]),e._v(" vuecli3配置")]),e._v(" "),a("ul",[a("li",[e._v("去掉代码混淆"),a("code",[e._v("config.optimization.minimize(false)")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);